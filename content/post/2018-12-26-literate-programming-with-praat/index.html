---
title: Literate programming with Praat
author: Stefano Coretta
date: '2019-03-21'
slug: literate-programming-with-praat
categories:
  - Linguistics
  - Methods
tags:
  - data processing
  - phonetics
  - documentation
  - praat
  - literate programming
  - tutorial
output:
  html_document:
    number_sections: yes
cover:
  image: "/img/twitter-card-praat-lit.png"
  alt: "Literate Praat scripting"
  relative: false
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<p><br>
<br></p>
<p>This post quickly illustrates how to apply a literate programming workflow to Praat scripting.
To be able to reproduce the steps described here you need the latest version of <a href="https://pandoc.org">pandoc</a> and the <a href="https://github.com/driusan/lmt">Literate Markdown Tangler</a> (<code>lmt</code>, you will need to install <a href="https://golang.org">Go</a> first to install <code>lmt</code>).</p>
<div id="what-is-literate-programming" class="section level2">
<h2>What is literate programming?</h2>
<p>In <a href="https://en.wikipedia.org/wiki/Literate_programming">literate programming</a>, one writes both code and plain text which explains what the code does in a single document.
Natural language and programming language are interleaved in the document in a way that is reader-oriented, rather than software oriented.
So, for example, the code can be included in an order that is different from the order it should have had the document been a script.</p>
<p>This programming paradigm allows developers to focus on documenting their code in a more natural way.
This has the double advantage of aiding a new user in understanding what the code does and helping the author of the code to develop the code following a logic that can be different from the logic of the code’s programming language.</p>
<p>In general, from a literate source file (a file containing both natural language and programming code) it is possible to obtain a documentation file (by the process called <em>weaving</em>) and a script file (by the process called <em>tangling</em>) which is interpretable by the target programming language.</p>
<p><a href="https://www.markdownguide.org">Markdown</a>, a simple but effective mark-up language, allows mixing natural language (with rich formatting) and code in a single document.
<a href="https://pandoc.org">Pandoc</a> is a software utility which can convert documents from and to a variety of formats.
The conversion relevant to us is from Markdown to PDF.
Converting Markdown to PDF corresponds to the weaving process mentioned above, i.e. creating a richly formatted documentation of the code.
Pandoc has syntax highlighting capabilities, and Praat syntax is supported, so that your documentation will also be easier to interpret.
The <code>Literate Markdown Tangler</code>, by Dave MacFarlane, is a software written in <a href="https://golang.org">Go</a> that instead can be used to tangle (extract) the code from the source file into a scripting file.</p>
<p>Pandoc and <code>lmt</code> can be used together to develop a literate programming workflow with Praat scripting.
This means that you can develop a Praat script by laying out the pieces of the script in the source file and explain what the various parts of the script do in using natural language.
<code>lmt</code> further allows the user to create “blocks” of code that can be referenced in other blocks and reused.
If you wanna generate a PDF version of the documentation, you can convert the source file to a PDF with Pandoc.</p>
<p>The figure at the top of this post shows an example of a literate Praat source file.</p>
<p>The following sections will point you to the software and files that need to be installed/copied and will show how to use literate programming with Praat scripting.</p>
</div>
<div id="necessary-software" class="section level2">
<h2>Necessary software</h2>
<ol style="list-style-type: decimal">
<li>You need to install the latest version of Pandoc, which can be found <a href="https://pandoc.org/installing.html">here</a>. After installing, be sure you can run this command from your command line GUI: <code>pandoc --version</code>. If a version is returned, Pandoc is working on your system.</li>
<li>Install Go from <a href="https://golang.org">here</a> and set it up, then download and install <code>lmt</code> from <a href="https://github.com/driusan/lmt">here</a>.</li>
<li>Download and unzip the content of <a href="/files/pandoc-praat.zip">this zip</a> to a convenient directory (usually, in <code>.pandoc/</code> in your user folder). This folder contains the files which allow Pandoc to highlight Praat syntax.</li>
</ol>
</div>
<div id="literate-praat" class="section level2">
<h2>Literate Praat</h2>
<p>To generate the Praat script and its documentation, you have to:</p>
<ol style="list-style-type: decimal">
<li>Write your script in a Markdown source file with Praat code enclosed in code chunks that follow the format required by <code>lmt</code>.</li>
<li>Use <code>lmt</code> to tangle the code from the source file into a standalone Praat script.</li>
<li>Use pandoc with a custom syntax highlighter to generate the documentation of the script.</li>
</ol>
<div id="the-source-file" class="section level3">
<h3>The source file</h3>
<p>The source file will contain text, Markdown markup, and code enclosed between back-ticks.
The following is an example of how such file would look like.</p>
<div class="figure">
<img src="images/basic.png" alt="" />
<p class="caption">Literate Praat basic example</p>
</div>
</div>
<div id="tangle-the-code" class="section level3">
<h3>Tangle the code</h3>
<p>To tangle the code into a standalone Praat script, run the following line from your command line GUI, where <code>my-script.praat.md</code> is your Praat source file:</p>
<pre><code>lmt my-script.praat.md</code></pre>
<p>The scripts defined in the source file will be output in the same directory as the source file (to learn more on how this works, check the <code>lmt</code> README on GitHub).</p>
</div>
<div id="weave-the-documentation" class="section level3">
<h3>Weave the documentation</h3>
<p>To weave the documentation, run the following by replacing the syntax definition path with the path to the <code>pandoc-praat/</code> folder on your computer:</p>
<pre><code>pandoc -f gfm -o doc.pdf script.praat.md -N --syntax-definition=&lt;your-path-here&gt;/pandoc-praat/praat.xml</code></pre>
<p>This line of code tells Pandoc to convert from Markdown to PDF and where to find the files for highlighting Praat code.</p>
<p>A <code>.pdf</code> file named <code>doc.pdf</code> containing the documentation of the script will be created when the line is run.</p>
</div>
</div>
