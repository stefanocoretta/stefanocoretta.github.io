---
title: R gist — Plotting the area under the curve with ggplot
author: Stefano Coretta
date: '2021-07-04'
slug: plotting-the-area-under-the-curve
categories:
  - Methods
tags:
  - data viz
  - ggplot2
  - rstats
---



<pre class="r"><code>knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
## ✔ ggplot2 3.4.0      ✔ purrr   1.0.1 
## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
## ✔ tidyr   1.2.1      ✔ stringr 1.5.0 
## ✔ readr   2.1.3      ✔ forcats 0.5.2 
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(ggthemr)
ggthemr(&quot;earth&quot;)</code></pre>
<pre class="r"><code>x &lt;- 1:11
y &lt;- (1.5:11.5)^2
low &lt;- (0:10)^2
upp &lt;- (3:13)^2</code></pre>
<pre class="r"><code>ggplot() +
  aes(x, y) +
  geom_line() +
  geom_ribbon(aes(ymin = low, ymax = upp), alpha = 0.5)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/ribbon-1.png" width="672" /></p>
<pre class="r"><code>x2 &lt;- c(1:8, NA, NA, NA)
ggplot() +
  aes(x, y) +
  geom_line() +
  geom_ribbon(aes(x = x2, ymin = low, ymax = upp), alpha = 0.5)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<pre class="r"><code>x &lt;- seq(-4, 4, by = 0.05)
y &lt;- dnorm(x)</code></pre>
<pre class="r"><code>p &lt;- ggplot() +
  aes(x, y) +
  geom_line()
p</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/density-1.png" width="672" /></p>
<pre class="r"><code>p +
  geom_ribbon(
    aes(x = ifelse(x &lt;= -1 , x, NA), ymin = 0, ymax = y),
    fill = &quot;#E84646&quot;,
    alpha = 0.4
  )</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/density-area-1.png" width="672" /></p>
